\section{Application: Translation across simply-typed systems}

%%% The limitation of the recursion principle
Initial semantics represent higher-order languages as initial models over a
base category that depends on the type system of the language considered.
For instance, a simply-typed language can be represented as an initial model
over the category $[\Set^T,\Set^T]$, where $T$ is the initial $S$-algebra
representing the typing systems.
This is perfectly sensible, yet it limits the recursion principle provided
by initiality, as by definition it is confined to model over the same base
category.
It does not directly enable us to relate two languages with different type
systems $T$ and $T'$ as their models live above different categories
$[\Set^T,\Set^T]$ and $[\Set^{T'},\Set^{T'}]$.
This issue is not surprising as a translation of simply-typed languages
should first rely on a translation of typing systems $g : T \to T'$,
which is not accounted by initiality.

%%% Benedikt
% headline
\todot{A possible solution} to this issue was investigated by Ahrens
\cite{ExtendedInitiality12} by integrating the type system directly in
the framework.
%
Most importantly, in the framework, Ahrens replaced the category of monads
over the intial $S$-algebra $\Mon([\Set^{T},\Set^{T}])$ by the total
category of monads over the $S$-algebras\footnote{
  Actually, Ahrens used by a category trivially equivalent to this total category called $S$-monads.}:
%
\[\int_{K : S-\mathrm{Alg}} \Mon([\Set^K,\Set^K]) \]
%
Its objects are pairs $(K,M)$ where $K$ is a $S$-algebra representing the
type system and $M$ a monad over $[\Set^{K},\Set^{K}]$.
% Morphism
Its morphisms $(K,M) \to (K',M')$ are pairs $(g,f)$ where $g : K \to K'$ is
a morphism of $S$-algebra translating the type systems, and $f : M \to \bar{g}M'$
a morphism of monads translating terms after retying.
% Conclusion
Building an initial model using the total category enabled him to provide a
stronger recursion principle as the translation of type systems is directly
accounted for.
% Downsides
\todot{Downsides}







% Attempted by Benedikt
There has been attempted to go around this issue by Ahrens \cite{ExtendedInitiality12}.
However, to do so he had to modify the entire framework, and in particular
the definition of models.
Moreover, his presentation is specific to simply-typed languages, and it is
unclear whether it can be extended to more advanced languages.


% Attempted by me and Benedikt
An attempted has been presented in \cite{IntroductionIS24} that is low level
but fails to provide a general result.

We pursue this approach and show that the metatheory presented in
\todot{cref} can be leverage to entend the recursion principle to
translating simply-type languages with different type systems, and that is
enables us to recover a stronger result then \cite{ExtendedInitiality12}.


\subsection{Old stuff}
Asume given a translation of typing systems $T \to T'$.
% Outline
To translate monoids from $[\Set^{T'},\Set^{T'}]$ to $[\Set^T,\Set^T]$,
we start by translating contexts and endofunctors.
% LKE + g
$g$ admits a global left Kan extension, denoted
$\vec{g} := \Lan{g}{\_}$, that computes as below.
It entails an adjunction on contexts, i.e. between $\Set^T$ and $\Set^{T'}$:
%
\begin{align*}
  \begin{tikzcd}[ampersand replacement = \&, column sep=large]
      \Set^T
          \ar[r, bend left, "\vec{g}"]
          \ar[r, phantom, "\perp"]
        \& \Set^{T'} \ar[l, bend left, "g^*"]
  \end{tikzcd}
  &&
  \vec{g}(\Gamma)(t') \;:= \bigsqcup_{\substack{t : T \\ g(t) = t'}} \Gamma(t)
\end{align*}
%
This adjunction can be lifted to the endofunctors categories:

\begin{proposition}
  Given an adjunction $A \to B : k \vdash l : B \to A$ with unit $\eta : \Id
  \to l \circ k$ and counit $\epsilon : k \circ l \to \Id$, there is an
  adjunction on endofunctor categories:
  \begin{align*}
    \begin{tikzcd}[ampersand replacement = \&, column sep=large]
      A \ar[r, bend left, "k"]
                \ar[r, phantom, "\perp"]
        \& B \ar[l, bend left, "l"]
    \end{tikzcd}
    &&
    \begin{tikzcd}[ampersand replacement = \&, column sep=large]
        {[}A{,}A{]} \ar[r, bend left, "X_A \;\mapsto\; k \circ X_A \circ l"]
                  \ar[r, phantom, "\perp"]
          \& {[}B{,}B{]} \ar[l, bend left, "X_B \;\mapsto\; l \circ X_B \circ k"]
    \end{tikzcd}
  \end{align*}
  Moreover, the functor $G := X_B \;\mapsto\; l \circ X_B \circ k$ is
  \hyperref[def:monoidal-functor]{monoidal}, with $G_0 : \Id \to l \circ k
  := \eta$ and $G_2 : l \circ X_B \circ k \circ l \circ X_B' \circ k \to l
  \circ X_B \circ X_B' \circ k := l \circ X_B \circ \epsilon \circ X_B'\circ
  k$.
\end{proposition}

Hence, by theorem, to translate between this and this, it suffices to exhib this...



\subsection{Small Functors}
\todoLipsum{1}

\subsection{Simply-Typed Algebraic as Small Functors}
\todoLipsum{1}

\subsection{Translation across simply-typed systems}
\todoLipsum{1}

\subsection{Initiality and Total Categories}
\todoLipsum{1}